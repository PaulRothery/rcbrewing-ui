<p-button label="Back to Main Menu" icon="pi pi-arrow-left" iconPos="left" size="small"
  class="mb-3" severity="secondary"
  [routerLink]="['/main-menu']">
</p-button>

<h2>Adjunct</h2>

<a routerLink="/adjunct-edit" pButton style="float: right; margin-right: 50px;">
  <span pButtonLabel>Add</span>
</a>


@if (loading) {
<div>
  <p>Loading adjuncts...</p>
</div>
}
<br>


<div style="display: flex;">
  <div class="table-container" style="margin-left: 50px; font-weight: bold;">

    <p-table [value]="(adjuncts$ | async) ?? []" showGridlines stripedRows>

      <ng-template #header>
        <tr>
          <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
          <th pSortableColumn="supplier">Supplier <p-sortIcon field="supplier"></p-sortIcon></th>
          <th pSortableColumn="type">Type <p-sortIcon field="type"></p-sortIcon></th>
          <th pSortableColumn="category">Category <p-sortIcon field="category"></p-sortIcon></th>
          <th pSortableColumn="ppg">PPG <p-sortIcon field="ppg"></p-sortIcon></th>
          <th pSortableColumn="colorLov">Color Lov <p-sortIcon field="colorLov"></p-sortIcon></th>
          <th pSortableColumn="price">Price <p-sortIcon field="price"></p-sortIcon></th>
          <th pSortableColumn="initialQuantity">Initial<br> Quantity <p-sortIcon field="initialQuantity"></p-sortIcon>
          </th>
          <th pSortableColumn="currentQuantity">Current<br> Quantity <p-sortIcon field="currentQuantity"></p-sortIcon>
          </th>
        </tr>
      </ng-template>

      <ng-template let-adjunct pTemplate="body">
        <tr [pSelectableRow]="adjunct">

          <td>{{ adjunct.name }}</td>
          <td>{{ adjunct.supplier }}</td>
          <td>{{ adjunct.type }}</td>
          <td>{{ adjunct.category }}</td>
          <td>{{ adjunct.ppg }}</td>
          <td>{{ adjunct.colorLov }}</td>
          <td class="th-right">{{ adjunct.price | currency }}</td>
          <td>{{ adjunct.initialQuantity }}</td>
          <td>{{ adjunct.currentQuantity }}</td>

          <p-button icon="pi pi-pencil" severity="info" (click)="editAdjunct(adjunct)"></p-button>
          <p-button icon="pi pi-trash" severity="info" (click)="deleteAdjunct(adjunct.id)"></p-button>

        </tr>
      </ng-template>
    </p-table>

  </div>
</div>

<a routerLink="/adjunct-edit" pButton style="float: right; margin-right: 50px;">
  <span pButtonLabel>Add</span>
</a>